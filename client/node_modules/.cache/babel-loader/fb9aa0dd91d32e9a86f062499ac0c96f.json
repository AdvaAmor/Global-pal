{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\finalproject__adva_sapir\\\\FinalProject\\\\Global-pal\\\\client\\\\src\\\\components\\\\myNotebook\\\\File.js\";\nimport { faFile } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { FaRegTrashAlt } from \"react-icons/fa\";\nimport { storage, database } from \"../../firebase\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function File({\n  file,\n  path,\n  index,\n  ProfileUserId,\n  AuthUserId\n}) {\n  function DeleteFile() {\n    // Create a reference to the file to delete\n    if (path === 'Root') {\n      path = '';\n    }\n\n    const desertRef = storage.ref().child(`files/${file.userId}/${path}/${file.name}`); // Delete the file\n\n    desertRef.delete().then(() => {\n      console.log(\"the file delete from the store\");\n      database.files.doc(file.id).delete().then(() => {\n        console.log(\"the file delete from data bass\");\n      }).catch(() => {\n        console.log(\"the file is not delete from data\");\n      });\n    }).catch(error => {\n      console.log(error, \"the file is not delete from storage\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [ProfileUserId === AuthUserId && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ContextMenuTrigger, {\n        id: index,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: file.url,\n          target: \"_blank\",\n          className: \"btn btn-outline-dark text-truncate w-100\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faFile,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 7\n          }, this), file.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(ContextMenu, {\n        id: index,\n        className: \"adva\",\n        children: /*#__PURE__*/_jsxDEV(MenuItem, {\n          className: \"adva1\",\n          onClick: DeleteFile,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(FaRegTrashAlt, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 12\n            }, this), \". delete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true), ProfileUserId !== AuthUserId && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: file.url,\n        target: \"_blank\",\n        className: \"btn btn-outline-dark text-truncate w-100\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faFile,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }, this), file.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n}\n_c = File;\n\nvar _c;\n\n$RefreshReg$(_c, \"File\");","map":{"version":3,"sources":["C:/Users/User/Desktop/finalproject__adva_sapir/FinalProject/Global-pal/client/src/components/myNotebook/File.js"],"names":["faFile","FontAwesomeIcon","ContextMenu","MenuItem","ContextMenuTrigger","FaRegTrashAlt","storage","database","React","File","file","path","index","ProfileUserId","AuthUserId","DeleteFile","desertRef","ref","child","userId","name","delete","then","console","log","files","doc","id","catch","error","url"],"mappings":";AAAA,SAASA,MAAT,QAAuB,mCAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,kBAAhC,QAA0D,mBAA1D;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,OAAT,EAAiBC,QAAjB,QAAgC,gBAAhC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;;AAIA,eAAe,SAASC,IAAT,CAAc;AAAEC,EAAAA,IAAF;AAAOC,EAAAA,IAAP;AAAaC,EAAAA,KAAb;AAAoBC,EAAAA,aAApB;AAAmCC,EAAAA;AAAnC,CAAd,EAA8D;AAC3E,WAASC,UAAT,GAAqB;AACnB;AACA,QAAIJ,IAAI,KAAG,MAAX,EAAkB;AAChBA,MAAAA,IAAI,GAAC,EAAL;AACD;;AACH,UAAMK,SAAS,GAAGV,OAAO,CAACW,GAAR,GAAcC,KAAd,CAAqB,SAAQR,IAAI,CAACS,MAAO,IAAGR,IAAK,IAAGD,IAAI,CAACU,IAAK,EAA9D,CAAlB,CALqB,CAOnB;;AACFJ,IAAAA,SAAS,CAACK,MAAV,GAAmBC,IAAnB,CAAwB,MAAM;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACFjB,MAAAA,QAAQ,CAACkB,KAAT,CAAeC,GAAf,CAAmBhB,IAAI,CAACiB,EAAxB,EAA4BN,MAA5B,GAAqCC,IAArC,CAA0C,MAAI;AAC5CC,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACD,OAFD,EAEGI,KAFH,CAES,MAAI;AACXL,QAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD,OAJD;AAKC,KAPD,EAOGI,KAPH,CAOUC,KAAD,IAAW;AACpBN,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ,EAAkB,qCAAlB;AACC,KATD;AAUC;;AAGD,sBACE;AAAA,eACChB,aAAa,KAAKC,UAAlB,iBACC;AAAA,8BACD,QAAC,kBAAD;AAAoB,QAAA,EAAE,EAAEF,KAAxB;AAAA,+BACA;AACC,UAAA,IAAI,EAAEF,IAAI,CAACoB,GADZ;AAEC,UAAA,MAAM,EAAC,QAFR;AAGC,UAAA,SAAS,EAAC,0CAHX;AAAA,kCAKC,QAAC,eAAD;AAAiB,YAAA,IAAI,EAAE9B,MAAvB;AAA+B,YAAA,SAAS,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,kBALD,EAMEU,IAAI,CAACU,IANP;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADC,eAcF,QAAC,WAAD;AAAa,QAAA,EAAE,EAAER,KAAjB;AAAwB,QAAA,SAAS,EAAC,MAAlC;AAAA,+BACI,QAAC,QAAD;AAAW,UAAA,SAAS,EAAC,OAArB;AAA6B,UAAA,OAAO,EAAEG,UAAtC;AAAA,iCACE;AAAA,oCACC,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,oBADD;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAdE;AAAA,oBAFF,EA0BCF,aAAa,KAAKC,UAAlB,iBACC;AAAA,6BACC;AACD,QAAA,IAAI,EAAEJ,IAAI,CAACoB,GADV;AAED,QAAA,MAAM,EAAC,QAFN;AAGD,QAAA,SAAS,EAAC,0CAHT;AAAA,gCAKD,QAAC,eAAD;AAAiB,UAAA,IAAI,EAAE9B,MAAvB;AAA+B,UAAA,SAAS,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,gBALC,EAMAU,IAAI,CAACU,IANL;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,qBA3BF;AAAA,kBADF;AA0CD;KAhEuBX,I","sourcesContent":["import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { FaRegTrashAlt } from \"react-icons/fa\";\r\nimport { storage,database} from \"../../firebase\";\r\n\r\nimport React from \"react\";\r\n\r\n\r\n\r\nexport default function File({ file,path ,index, ProfileUserId, AuthUserId}) {\r\n  function DeleteFile(){\r\n    // Create a reference to the file to delete\r\n    if (path==='Root'){\r\n      path='';\r\n    }\r\n  const desertRef = storage.ref().child(`files/${file.userId}/${path}/${file.name}`);\r\n\r\n    // Delete the file\r\n  desertRef.delete().then(() => {\r\n    console.log(\"the file delete from the store\");\r\n  database.files.doc(file.id).delete().then(()=>{\r\n    console.log(\"the file delete from data bass\");\r\n  }).catch(()=>{\r\n    console.log(\"the file is not delete from data\")\r\n  })\r\n  }).catch((error) => {\r\n  console.log(error,\"the file is not delete from storage\")\r\n  });\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n    {ProfileUserId === AuthUserId  && (\r\n      <>\r\n     <ContextMenuTrigger id={index}>\r\n     <a\r\n      href={file.url}\r\n      target=\"_blank\"\r\n      className=\"btn btn-outline-dark text-truncate w-100\"\r\n    >\r\n      <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\r\n      {file.name}\r\n    </a>\r\n      </ContextMenuTrigger>\r\n\r\n    \r\n   \r\n    <ContextMenu id={index} className=\"adva\">\r\n        <MenuItem  className=\"adva1\" onClick={DeleteFile}>\r\n          <div>\r\n           <FaRegTrashAlt/>\r\n          . delete\r\n          </div>\r\n        </MenuItem>\r\n      </ContextMenu>\r\n      </>\r\n   )}\r\n    {ProfileUserId !== AuthUserId  && (\r\n      <>\r\n       <a\r\n      href={file.url}\r\n      target=\"_blank\"\r\n      className=\"btn btn-outline-dark text-truncate w-100\"\r\n    >\r\n      <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\r\n      {file.name}\r\n    </a>\r\n\r\n      </>\r\n    )}\r\n    </>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}